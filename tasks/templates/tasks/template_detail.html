{% extends 'tasks/base.html' %}

{% block content %}
<h2>Detail Å¡ablony: {{ template.name }}</h2>

<p><strong>Popis Å¡ablony:</strong> {{ template.description }}</p>
<p><strong>OpakovÃ¡nÃ­:</strong> {{ template.get_repeat_interval_display }}</p>

<h3>PodÃºkoly</h3>

{% if subtasks %}
    <ul>
        {% for subtask in subtasks %}
            <li>
                <!-- ğŸ”— KlikacÃ­ odkaz na detail podÃºkolu -->
                <a href="{% url 'subtask_template_detail' template.id subtask.id %}">
                    <strong>{{ subtask.name }}</strong>
                </a>
                <br>
                <em>{{ subtask.description }}</em>

                <!-- ğŸ—‘ï¸ TlaÄÃ­tko pro smazÃ¡nÃ­ podÃºkolu -->
                <form action="{% url 'delete_subtask_template' subtask.id %}" method="post" style="display:inline;">
                    {% csrf_token %}
                    <button type="submit" class="button danger">ğŸ—‘ï¸ Smazat</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>Å½Ã¡dnÃ© podÃºkoly nejsou pÅ™iÅ™azeny.</p>
{% endif %}

<a href="{% url 'add_subtask_to_template' template.id %}" class="button neutral">â• PÅ™idat podÃºkol</a>
<a href="{% url 'template_list' %}" class="button neutral">â¬…ï¸ ZpÄ›t na seznam Å¡ablon</a>
<a href="{% url 'delete_template' template.id %}" class="button danger">ğŸ—‘ï¸ Smazat Å¡ablonu</a>
<a href="{% url 'generate_task_from_template' template.id %}" class="button complete">âœ… Vygenerovat Ãºkol</a>


{% endblock %}
